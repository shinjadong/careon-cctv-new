(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{73700:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(81023)}])},76128:function(e,t,r){"use strict";var n=r(35944),o=r(4298),i=r.n(o),a=r(62303);t.Z=e=>{let{onLoad:t}=e;return(0,n.tZ)(i(),{src:"https://t1.kakaocdn.net/kakao_js_sdk/2.1.0/kakao.min.js",integrity:"sha384-dpu02ieKC6NUeKFoGMOKz6102CLEWi9+5RQjWSV0ikYSFFd8M3Wp2reIcquJOemx",crossOrigin:"anonymous",onLoad:()=>{let e=window.Kakao;e.isInitialized()||e.init(a.TR),null==t||t()}})}},15490:function(e,t,r){"use strict";r.d(t,{q:function(){return o}});var n=r(67294);function o(e){(0,n.useEffect)(e,[])}},81023:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return ea},default:function(){return es}});var n=r(35944),o=r(67294),i=r(26601),a=r(88230),s=r(65922),u=r(11163),c=r(77262),l=r(75857),d=r(57197),f=r(81154),h=r(78241),p=r(76128),v=r(56312),g=r(29204),m=r(41664),y=r.n(m),k=r(87536),w=r(55414),Z=r(6197),S=r(41489),_=r(56725),b=r(8468),E=r(99139),x=r(1140),K=r(38401),B=r(84933),C=e=>{let{authType:t}=e;return t===B.Gr.Unknown?null:(0,n.BX)(P,{children:["이전에 ",(0,n.tZ)(T,{children:K.Cs[t]}),"로 로그인했어요"]})};let P=(0,i.Z)("span",{target:"e1c6f6jx0"})({fontSize:"12px",color:a.DO.S500}),T=(0,i.Z)("span",{target:"e1c6f6jx1"})({color:a.Lw.S500});var F=r(12417),O=r(62303),R=r(15490),N=r(52298),q=r(83791),j=r(71064),I=r(65521),G=r(85828);let L=(0,G.Z)(),M={[B.Gr.Kakao]:"카카오 로그인 실패",[B.Gr.Naver]:"네이버 로그인 실패"};var U=e=>{let{onSocialLoginSuccess:t,shouldLoginOnRedirect:r=!0,onRedirect:n}=e,o=(0,S.V)(),i=(0,u.useRouter)(),{mutate:a}=(0,q.aC)(),{mutate:s}=(0,q.nR)(),c=async e=>{let{accountType:r,authType:n,response:o}=e;(0,I.lS)(o.key),await (0,I.zB)(o.key),L.set(K.SC,n),null==t||t({accountType:r,response:o})},l=(e,t)=>{var r,n,o,i,a,s,u;if(!(0,g.IZ)(e))throw e;let c=null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.code,l=(null===(o=e.response)||void 0===o?void 0:o.data.reason)||"",f=c?(0,N.T)({code:c,defaultTitle:M[t],defaultReason:l}):null;d({title:null==f?void 0:f.title,content:(null===(i=e.response)||void 0===i?void 0:i.status)===401?null===(u=e.response)||void 0===u?void 0:null===(s=u.data)||void 0===s?void 0:null===(a=s.non_field_errors)||void 0===a?void 0:a[0]:(null==f?void 0:f.content)||"알 수 없는 에러가 발생했습니다. 지속될 경우 고객센터에 문의해주세요."})},d=function(){let{title:e,content:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o({title:e||"요청 실패",content:t||"오류가 발생하였습니다. 잠시 후 다시 시도해주시기 바랍니다.",confirmButtonText:"확인",showCancelButton:!1,isBackdropClose:!0})};return(0,R.q)(()=>{if(!i.query.naver)return;let e=i.query["naver-token"];if("string"!=typeof e){let e=i.query.reason;d({title:M[B.Gr.Naver],content:"string"==typeof e?decodeURIComponent(e):"알 수 없는 에러가 발생했습니다. 지속될 경우 고객센터에 문의해주세요."});return}null==n||n(e),r&&a(e,{onSuccess:async e=>{try{await c({response:{...e,is_new:"true"===i.query["is-new"]},authType:B.Gr.Naver,accountType:j.Qm.Naver})}catch(e){throw d(),e}},onError:e=>{l(e,B.Gr.Naver)}})}),(0,R.q)(()=>{if(!i.query.kakao)return;let e=i.query["kakao-token"];if("string"!=typeof e){let e=i.query.reason;d({title:M[B.Gr.Kakao],content:"string"==typeof e?decodeURIComponent(e):"알 수 없는 에러가 발생했습니다. 지속될 경우 고객센터에 문의해주세요."});return}null==n||n(e),r&&s(e,{onSuccess:async e=>{try{await c({response:e,authType:B.Gr.Kakao,accountType:j.Qm.Kakao})}catch(e){throw d(),e}},onError:e=>{l(e,B.Gr.Kakao)}})}),{redirectToKakaoLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login",t=window.Kakao;t&&t.Auth.authorize({redirectUri:"".concat(O.BG,"/api/auth/social-login/kakao/"),state:e})},redirectToNaverLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/login",t="".concat(O.FH,"api/auth/social-login/naver");document.location.href="https://nid.naver.com/oauth2.0/authorize?response_type=code&client_id=".concat(O.jM,"&redirect_uri=").concat(t,"&state=").concat(e)}}},V=r(98029);let z=e=>{let{email:t,password:r}=e;return c.uB.updateAuthToken(null),c.uB.post("/api2/auth/login",{email:t,password:r})},D=()=>(0,V.D)({mutationFn:z,onSuccess:async e=>{let{key:t}=e;await (0,I.zB)(t),(0,G.Z)().set(K.SC,B.Gr.Email)}});var A=r(76913),X=r(68920),W=r(50120);let Q="login";var H=()=>{var e,t;let{query:r}=(0,u.useRouter)(),{register:o,formState:i,clearErrors:a,handleSubmit:c,setError:l,setValue:d}=(0,k.cI)({mode:"onBlur",resolver:(0,v.F)(F.dm)}),{initSession:f}=(0,_.k)(),p=(0,u.useRouter)(),m=(0,S.V)(),{isMdPointUp:y}=(0,b.Z)(),{mutate:P,isPending:T}=D(),O=(0,G.Z)().get(K.SC),{redirectToKakaoLogin:R,redirectToNaverLogin:q}=U({onSocialLoginSuccess:async e=>{let{response:t,accountType:r}=e;if(t.is_new){let e=(0,I.dn)(j.Rv.Signup);await (0,N.r)({accountType:r,eventID:e})}await s._KF.Login({"Account Type":r,"Member Type":j.SD.User,"Login Method":"manual",Version:"2"});let n=await f(t.key),{pathname:o,queryParamsObject:i}=await L(null==n?void 0:n.userType);if(o){p.replace({pathname:o,query:{...i,from:Q}});return}let a=M(null==n?void 0:n.userType);p.replace({pathname:a,query:{from:Q,...t.is_new&&"requests/sent"===a?{isNewSocialSignup:!0}:{}}})}}),L=async e=>{let{redirect:t,redirectMyPage:r}=p.query,n=e=>e.split("?")[0];if(t){let e=Object.fromEntries(new URLSearchParams(t.split("?")[1]));return{pathname:n(t),queryParamsObject:e}}if(r){if("PROVIDER"!==e)return{pathname:await m({title:"고수계정 전환",content:"해당 서비스는 고수계정으로\n전환 후 이용 가능합니다.\n\n마이페이지로 이동합니다.",confirmButtonText:"확인",showCancelButton:!1})&&"/mypage",queryParamsObject:{}};let t=Object.fromEntries(new URLSearchParams(r.split("?")[1]));return{pathname:n(r),queryParamsObject:t}}return{pathname:void 0,queryParamsObject:{}}},M=e=>"PROVIDER"===e?y?"requests/received":"/":"requests/sent",V=async e=>{T||(s._KF.Sign_In_Email(),P(e,{onSuccess:async e=>{let{key:t}=e,r=await f(t),n=null==r?void 0:r.me;await s._KF.Login({"Account Type":B.Gr.Email,"Member Type":(null==r?void 0:r.userType)==="PROVIDER"?j.SD.Gosu:j.SD.User,"Login Method":"manual",Version:"2"});let{pathname:o,queryParamsObject:i}=await L(null==r?void 0:r.userType);if(o){p.replace({pathname:o,query:{...i,from:Q}});return}p.replace({pathname:M(null==r?void 0:r.userType),query:{from:Q,...(()=>{if(!n)return!1;let e=!n.allow_news_letters||!n.allow_use_marketing||!n.allow_use_select_info,t=!n.entered_interest_infos;return!n.provider&&n.terms_of_use_rejection_expired&&(e||t)})()?{isPersonalInfoDisplayed:"false"}:{}}})},onError:e=>{if((0,g.IZ)(e)){var t,r,o,i;if(l("password",{message:null===(o=e.response)||void 0===o?void 0:null===(r=o.data)||void 0===r?void 0:null===(t=r.non_field_errors)||void 0===t?void 0:t[0]}),d("password",""),(null===(i=e.response)||void 0===i?void 0:i.status)===401)return}m({title:(0,n.tZ)(er,{children:"로그인에 실패하였습니다"}),content:"이메일이나 비밀번호가 올바르게 입력되었는지 확인 후 다시 시도하십시오.",confirmButtonText:"확인",showCancelButton:!1,isBackdropClose:!0})}}))};return(0,n.BX)(Y,{as:"form",direction:"column",onSubmit:c(V),children:[(0,n.BX)(h.Z,{direction:"column",gap:X.Ki.S24,children:[(0,n.tZ)(E.Z,{label:"이메일",...o("email",{onChange:()=>{i.errors.email&&a("email")}}),autoFocus:!0,errorText:null===(e=i.errors.email)||void 0===e?void 0:e.message,hasMaxLength:!1}),(0,n.tZ)(x.Z,{label:"비밀번호",placeholder:"비밀번호를 입력해 주세요.",...o("password"),errorText:null===(t=i.errors.password)||void 0===t?void 0:t.message,onClearButtonClick:()=>{d("password","")}}),(0,n.tZ)(w.Z,{type:"submit",loading:T,loadingSize:24,children:"이메일 로그인"})]}),(0,n.BX)(ee,{alignItems:"center",justifyContent:"center",gap:X.Ki.S20,children:[(0,n.tZ)($,{href:{pathname:"/find-email",query:{from:"start_sign-in"}},children:"이메일 찾기"}),(0,n.tZ)(J,{}),(0,n.tZ)($,{href:"/find-password",children:"비밀번호 찾기"})]}),O&&(0,n.tZ)(Z.Z,{children:(0,n.tZ)(h.Z,{justifyContent:"center",children:(0,n.tZ)(C,{authType:O})})}),(0,n.BX)(et,{gap:X.Ki.S12,direction:"column",children:[(0,n.tZ)(A.Z,{variant:"kakao",type:"button",onClick:()=>{s._KF.Sign_In_Kakao(),R(r.redirect?"/login?redirect=".concat(r.redirect):"/login")}}),(0,n.tZ)(A.Z,{variant:"naver",type:"button",onClick:()=>{s._KF.Sign_In_Naver(),q(r.redirect?"/login?redirect=".concat(r.redirect):"/login")}})]})]})};let Y=(0,i.Z)(h.Z,{target:"euechhx0"})({width:"100%",maxWidth:"424px",backgroundColor:a.Ej.S900,paddingBottom:X.Ki.S80,[(0,W.IE)("md")]:{padding:X.Ki.S40,borderRadius:"8px",border:"1px solid ".concat(a.DO.S050)}}),J=(0,i.Z)("div",{target:"euechhx1"})({width:"1px",height:"12px",backgroundColor:a.DO.S100}),$=(0,i.Z)(y(),{target:"euechhx2"})({color:a.DO.S500,padding:"6px 0",fontSize:"14px"}),ee=(0,i.Z)(h.Z,{target:"euechhx3"})({marginTop:X.Ki.S12,marginBottom:X.Ki.S32}),et=(0,i.Z)(h.Z,{target:"euechhx4"})({marginTop:X.Ki.S16,marginBottom:X.Ki.S12}),er=(0,i.Z)("span",{target:"euechhx5"})({whiteSpace:"nowrap"});var en=r(14893);let eo=()=>{c.uB.updateAuthToken(null),c.ZP.updateAuthToken(null),(0,I.i)()},ei=()=>{let e=(0,u.useRouter)();return(0,o.useEffect)(()=>{s._KF.Start_Sign_In(),eo()},[]),(0,o.useEffect)(()=>{var t;(null===(t=e.query)||void 0===t?void 0:t.entry_point)&&(0,G.Z)().set("signup_entry_point",e.query.entry_point||"Others")},[e]),(0,n.BX)(n.HY,{children:[(0,n.BX)(eu,{gap:X.Ki.S40,direction:"column",alignItems:"center",children:[(0,n.tZ)(ec,{children:"로그인"}),(0,n.tZ)(H,{})]}),(0,n.tZ)(p.Z,{})]})};var ea=!0,es=ei;ei.getLayout=e=>(0,n.BX)(n.HY,{children:[(0,n.tZ)(d.default,{mobileRight:(0,n.tZ)(f.Z,{}),lnbOptions:{hideLnb:!0}}),(0,n.tZ)(en.Z,{children:e}),(0,n.tZ)(l.Z,{})]});let eu=(0,i.Z)(h.Z,{target:"e1w8gil20"})({paddingTop:X.Ki.S40,[(0,W.IE)("md")]:{gap:X.Ki.S40,paddingTop:X.Ki.S80,paddingBottom:X.Ki.S80}}),ec=(0,i.Z)("h1",{target:"e1w8gil21"})({color:a.DO.S800,fontSize:"28px",fontWeight:500,alignSelf:"flex-start",[(0,W.IE)("md")]:{alignSelf:"center",fontSize:"34px"}})},76913:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(35944),o=r(67294),i=r(70917),a=r(70971),s=r(33248),u=r(8981),c=r(68920);let l={kakao:{name:"카카오",iconElement:a.GSG},naver:{name:"네이버",iconElement:a.KLd},apple:{name:"Apple",iconElement:a.WTk}},d=(0,o.forwardRef)((e,t)=>{let{variant:r,label:o,...i}=e,a=[h(r)],{name:c,iconElement:d}=l[r];return(0,n.BX)("button",{ref:t,css:a,...i,children:[d&&(0,n.tZ)(s.Z,{as:d,color:"none",size:24,css:p}),(0,n.tZ)(u.Z,{as:"span",variant:"button16.bold",color:"none",css:v,children:o||"".concat(c,"로 시작하기")})]})});d.displayName="PrismaSocialButton";var f=d;let h=e=>{var t,r,n;return(0,i.iv)({width:"100%",height:48,padding:"".concat(c.Ki.S8," ").concat(c.Ki.S16),display:"flex",alignItems:"center",justifyContent:"center",borderRadius:8,backgroundColor:null===(t=g[e])||void 0===t?void 0:t.background,color:null===(r=g[e])||void 0===r?void 0:r.color,border:"none",cursor:"pointer",gap:c.Ki.S4,transition:"background 0.2s ease","&:active":{backgroundColor:null===(n=g[e])||void 0===n?void 0:n.activeBackground}})},p=(0,i.iv)("flex-shrink:0;"),v=(0,i.iv)("text-overflow:ellipsis;overflow:hidden;white-space:nowrap;"),g={kakao:{color:"#000000",background:"#FEE500",activeBackground:"#E0C714"},naver:{color:"#FFFFFF",background:"#03C75A",activeBackground:"#14A93C"},apple:{color:"#FFFFFF",background:"#000000",activeBackground:"#404040"}}},56312:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(87536),o=function(e,t,r){if(e&&"reportValidity"in e){var o=(0,n.U2)(r,t);e.setCustomValidity(o&&o.message||""),e.reportValidity()}},i=function(e,t){var r=function(r){var n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?o(n.ref,r,e):n.refs&&n.refs.forEach(function(t){return o(t,r,e)})};for(var n in t.fields)r(n)},a=function(e,t){t.shouldUseNativeValidation&&i(e,t);var r={};for(var o in e){var a=(0,n.U2)(t.fields,o),c=Object.assign(e[o]||{},{ref:a&&a.ref});if(u(t.names||Object.keys(e),o)){var l=Object.assign({},s((0,n.U2)(r,o)));(0,n.t8)(l,"root",c),(0,n.t8)(r,o,l)}else(0,n.t8)(r,o,c)}return r},s=function(e){return Array.isArray(e)?e.filter(Boolean):[]},u=function(e,t){return e.some(function(e){return e.startsWith(t+".")})},c=function(e,t){for(var r={};e.length;){var o=e[0],i=o.code,a=o.message,s=o.path.join(".");if(!r[s]){if("unionErrors"in o){var u=o.unionErrors[0].errors[0];r[s]={message:u.message,type:u.code}}else r[s]={message:a,type:i}}if("unionErrors"in o&&o.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var c=r[s].types,l=c&&c[o.code];r[s]=(0,n.KN)(s,t,r,i,l?[].concat(l,o.message):o.message)}e.shift()}return r},l=function(e,t,r){return void 0===r&&(r={}),function(n,o,s){try{return Promise.resolve(function(o,a){try{var u=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then(function(e){return s.shouldUseNativeValidation&&i({},s),{errors:{},values:r.raw?n:e}})}catch(e){return a(e)}return u&&u.then?u.then(void 0,a):u}(0,function(e){if(null!=e.errors)return{values:{},errors:a(c(e.errors,!s.shouldUseNativeValidation&&"all"===s.criteriaMode),s)};throw e}))}catch(e){return Promise.reject(e)}}}},67160:function(e,t,r){"use strict";r.d(t,{c:function(){return i}});var n=r(72536),o=r(54948),i=class extends n.z{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e,t){super.setOptions({...e,behavior:(0,o.Gm)()},t)}getOptimisticResult(e){return e.behavior=(0,o.Gm)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:r}=e,n=super.createResult(e,t),{isFetching:i,isRefetching:a,isError:s,isRefetchError:u}=n,c=r.fetchMeta?.fetchMore?.direction,l=s&&"forward"===c,d=i&&"forward"===c,f=s&&"backward"===c,h=i&&"backward"===c;return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,o.Qy)(t,r.data),hasPreviousPage:(0,o.ZF)(t,r.data),isFetchNextPageError:l,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:h,isRefetchError:u&&!l&&!f,isRefetching:a&&!d&&!h}}}},26820:function(e,t,r){"use strict";r.d(t,{j:function(){return a}});var n=r(67160),o=r(39161),i=r(44590);function a(e,t){return(0,o.r)({...e,enabled:!0,suspense:!0,throwOnError:i.Ct},n.c,t)}},76880:function(e,t,r){"use strict";r.d(t,{k:function(){return a}});var n=r(72536),o=r(39161),i=r(44590);function a(e,t){return(0,o.r)({...e,enabled:!0,suspense:!0,throwOnError:i.Ct,placeholderData:void 0},n.z,t)}},79697:function(e,t){"use strict";t.Z=function(){}}},function(e){e.O(0,[5675,1664,7536,1604,674,6437,5128,2888,9774,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);