"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7879],{44666:function(e,t,r){var n=r(35944),a=r(67294),i=r(41664),o=r.n(i),u=r(11163),l=r(4101);let c=(0,a.forwardRef)((e,t)=>{let{href:r,target:a,children:i,...l}=e,c=(0,u.useRouter)(),s=/^(https?:)?\/\//.test(r),d=c.route===r?"#":r,f="_blank"===a;return s||f?(0,n.tZ)("a",{ref:t,href:r,target:a,...l,children:i}):(0,n.tZ)(o(),{ref:t,href:d,...l,children:i})});t.Z=c,c.displayName=(0,l.Gf)(c)},15798:function(e,t,r){var n=r(78551),a=r(589);t.Z=e=>{let{status:t}=(0,a.Z)(),r="authenticated"===t,i=e&&void 0!==(null==e?void 0:e.enabled)?e.enabled&&r:r;return(0,n.a)({...e,enabled:i})}},8468:function(e,t,r){var n=r(67294),a=r(286);t.Z=()=>{let[e,t]=(0,n.useState)(!1),[r,i]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{let e=new ResizeObserver(e=>{let[r]=e,{width:n}=r.contentRect;t(n>=a.U.md),i(n>=a.U.lg)});return e.observe(document.documentElement),()=>{e.disconnect()}},[]),(0,n.useMemo)(()=>({isMdPointUp:e,isLgPointUp:r}),[e,r])}},68384:function(e,t,r){var n=r(35944),a=r(70917),i=r(52915);let o=e=>{let{width:t,height:r,padding:n,margin:i,display:o="inline-block"}=e;return(0,a.iv)("display:",o,";position:relative;width:",t,"px;height:",r,"px;padding:",n,";margin:",i,";")},u=e=>{let{position:t,top:r,left:n,bottom:o,right:u}=e;return(0,a.iv)("display:inline-block;","absolute"===t?{position:"absolute",top:0,right:0}:{position:"relative"},"  width:8px;height:8px;background-color:",i.lP.red_enabled,";border:1px solid ",i.kf.white,";border-radius:999px;",n&&"left: ".concat(n,";")," ",u&&"right: ".concat(u,";")," ",r&&"top: ".concat(r,";")," ",o&&"bottom: ".concat(o,";"))};t.Z=e=>{let{width:t,height:r,padding:a,margin:i,top:l,left:c,right:s,bottom:d,position:f="absolute",display:g,wrapperCss:y,children:v,...p}=e,h=[o({width:t,height:r,padding:a,margin:i,display:g}),y].filter(Boolean);return(0,n.BX)("div",{css:h,...p,children:[v,(0,n.tZ)("span",{css:u({position:f,top:l,left:c,right:s,bottom:d}),"aria-live":"polite",role:"status"})]})}},29979:function(e,t,r){r.d(t,{sN:function(){return _},IP:function(){return D},qU:function(){return R},q0:function(){return w},U$:function(){return x},BQ:function(){return b},Tl:function(){return N},SO:function(){return y},SD:function(){return v},Yd:function(){return C},DN:function(){return h}});var n,a,i=r(78551),o=r(76880),u=r(26820),l=r(98029),c=r(77262),s=r(98374),d=r(15798);(n=a||(a={})).Service="service",n.Cat1="cat1",n.Cat2="cat2",n.Category1="category1",n.Category2="category2";var f=r(21961);let g=()=>()=>c.ZP.get("/v1/popular-keyword/services"),y=()=>(0,i.a)({queryKey:s.Z.headerPopularKeyword,queryFn:g(),select:e=>{let{response:t}=e;return{services:t.services.map(e=>({...e,type:a.Service})),ageRange:t.ageRange}}}),v=()=>(0,o.k)({queryKey:s.Z.headerPopularKeyword,queryFn:g(),select:e=>{let{response:t}=e;return{services:t.services.map(e=>({...e,type:a.Service})),ageRange:t.ageRange}}}),p=()=>c.ZP.get("/v1/me/requests/received/unread"),h=e=>(0,d.Z)({queryKey:s.Z.headerRequestReceivedUnread,queryFn:p,enabled:e}),m=async e=>{let{role:t}=e,{response:r}=await c.ZP.get("/v1/accounts/user-notifications/categories",{role:t});return r},w=(e,t)=>(0,i.a)({queryKey:s.Z.headerNotificationCategories(e),queryFn:()=>m({role:e}),enabled:t.enabled,staleTime:0}),Z=async e=>{let{response:t}=await c.ZP.get("/v1/accounts/user-notifications",e);return t},b=e=>(0,u.j)({queryKey:s.Z.headerNotificationList(e),queryFn:t=>{let{pageParam:r}=t;return Z({...e,next_cursor:null==r?void 0:r.next_cursor})},getNextPageParam:e=>{let{pagination:{nextCursor:t,hasNextPage:r}}=e;return r?{next_cursor:t}:null},initialPageParam:null,staleTime:0}),q=e=>{let{role:t,category2_id:r}=e;return c.ZP.patch("/v1/accounts/user-notifications/read",{role:t,category2_id:r})},N=()=>(0,l.D)({mutationFn:e=>{let{role:t,category2_id:r}=e;return q({role:t,category2_id:r})}}),S=async e=>{let{response:t}=await c.ZP.get("/v1/accounts/user-notifications/unread-exist",{role:e});return t},x=e=>(0,i.a)({queryKey:s.Z.headerNotificationReddot(e),queryFn:()=>S(e),staleTime:0}),P=()=>c.ZP.get("/v1/me/quotes/unread"),C=e=>(0,d.Z)({queryKey:s.Z.headerQuoteUnread,queryFn:P,enabled:e}),k=e=>c.ZP.get("/api/v2/chats/badge-count",{role:e}),R=e=>(0,d.Z)({queryKey:s.Z.headerChatUnread(e),queryFn:()=>k(e),enabled:e!==f.N1.guest}),_=(e,t)=>{let{role:r,category2Id:n,showReddot:a}=t;e.setQueryData(s.Z.headerNotificationCategories(r),e=>{if(!e)return;let{notificationCategory1List:t}=e;return{...e,notificationCategory1List:t.map(e=>({...e,notificationCategory2List:e.notificationCategory2List.map(e=>e.categoryId===n?{...e,unreadNotificationExist:a}:e)}))}})},D=(e,t)=>{var r;let n=null!==(r=e.getQueryData(s.Z.headerNotificationCategories(t)))&&void 0!==r?r:null,a=null==n?void 0:n.notificationCategory1List.some(e=>e.notificationCategory2List.some(e=>e.unreadNotificationExist));e.setQueryData(s.Z.headerNotificationReddot(t),{unreadNotificationExist:a})}},85828:function(e,t){let r=()=>{let e=(()=>{try{if("object"!=typeof window.localStorage)return!1;let e="check_storage_support";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}})(),t=e=>n(e.timestamp,e.expires),r=e=>window.localStorage.removeItem(e),i=(e,t)=>{let r={isSavedByHelper:!0,value:e,timestamp:Date.now(),expires:t};return t&&(r.expires=t),r};return{get:n=>{if(!e)return null;let a=window.localStorage.getItem(n);if(!a)return null;let i=JSON.parse(a);return i instanceof Object&&i.isSavedByHelper?t(i)?(r(n),null):i.value:i},set:(t,r,n)=>{if(!e)return;let a=i(r,n);window.localStorage.setItem(t,JSON.stringify(a))},getAll:()=>{if(e)return{...window.localStorage}},remove:r,clear:()=>{e&&window.localStorage.clear()},checkBeen24Hours:a}},n=(e,t)=>!!t&&Date.now()-(new Date(e).valueOf()+t)>=0;t.Z=r;let a=e=>{let{key:t,userId:a,isBasedMidNight:i=!1}=e,o=r(),u=o.get(t),l=new Date;i&&l.setHours(0,0,0,0);let c={[a]:l.valueOf()};if(!u)return o.set(t,c,31536e6),!0;let s=Object.keys(u).map(Number);return s.includes(a)?!!n(u[a],864e5)&&(o.set(t,s.filter(e=>e!==a).reduce((e,t)=>({...e,[t]:e[t]}),c),31536e6),!0):(o.set(t,{...u,...c},31536e6),!0)}}}]);